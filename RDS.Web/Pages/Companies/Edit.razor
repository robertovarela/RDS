@page "/empresas/editar"
@inherits EditCompanyPage

<AuthorizeView>
    <Authorized>
        @if (IsBusy)
        {
        <MudPaper Class="pa-8 mt-4">
            <MudSkeleton Height="55px"/>
            <MudSkeleton Height="110px"/>
            <MudSkeleton Height="55px"/>
            <MudSkeleton Height="110px"/>
            <MudSkeleton Height="55px"/>
        </MudPaper>
        }
        else
        {
        <MudPaper Class="pa-8 mt-4">
            <EditForm Model="@InputModel" OnValidSubmit="OnValidSubmitAsync" Context="editContext">
                <DataAnnotationsValidator/>

                <MudTextField Label="Título"
                              HelperText="Campo obrigatório"
                              @bind-Value="InputModel.Name"
                              For="@(() => InputModel.Name)"/>

                <MudTextField Label="Descrição"
                              Lines="5"
                              HelperText="Campo obrigatório"
                              @bind-Value="InputModel.Description"
                              For="@(() => InputModel.Description)"/>

                <SaveAndCancelButtons CancelOrBackPage="/empresas"/>
            </EditForm>
        </MudPaper>
        }
    </Authorized>
    <NotAuthorized>
        @(async () => await NavigationService.NavigateToAccessNotAllowedAsync())
    </NotAuthorized>
</AuthorizeView>