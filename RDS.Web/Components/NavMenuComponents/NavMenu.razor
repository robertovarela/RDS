<div class="d-flex justify-center pb-8 pt-2">
    <img src="/imgs/RDS-01.jpg" alt="RDS - Soluções em software" width="200"/>
</div>

<AuthorizeView>
    <Authorized>
        <MudNavMenu Margin="Margin.None" Color="Color.Success" Rounded="true" Dense="true" Class="mud-nav-item">
            <HomeLink/>
            <UserGroup ExpandedGroup="@(_expandedGroup)" ExpandedChanged="ToggleGroup"/>
            <ManagementGroup ExpandedGroup="@(_expandedGroup)" ExpandedChanged="ToggleGroup"/>
            <ConfigurationGroup ExpandedGroup="@(_expandedGroup)" ExpandedChanged="ToggleGroup"/>
            <LogoutLink/>
        </MudNavMenu>
    </Authorized>
    <NotAuthorized>
        <MudNavLink OnClick="@(() => NavigationService.NavigateTo("/login"))" Icon="@Icons.Material.Filled.Login" IconColor="Color.Success">Login</MudNavLink>
        <MudNavLink OnClick="@(() => NavigationService.NavigateTo("/registrar"))" Icon="@Icons.Material.Filled.Add" IconColor="Color.Success">Registrar</MudNavLink>
    </NotAuthorized>
</AuthorizeView>

@code {

    private string? _expandedGroup = null;
    private string? _expandedSubGroup = null;

    private void ToggleGroup(string groupName)
    {
        if (groupName.StartsWith("Sub"))
        {
            if (_expandedSubGroup == groupName)
            {
                _expandedSubGroup = null;
            }
            else
            {
                _expandedSubGroup = groupName;
            }
        }
        else
        {
            if (_expandedGroup == groupName)
            {
                _expandedGroup = null;
            }
            else
            {
                _expandedGroup = groupName;
                _expandedSubGroup = null;
            }
        }
    }

}